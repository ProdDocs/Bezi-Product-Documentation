---
title: "State Machine"
description: "Prototype interactions without code by creating and connecting different states. "
---

<iframe width="560" height="315" src="https://www.youtube.com/embed/K7BBGu-44W4?si=sT_3Df5hdjA266UW" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen />

## States and the State Machine&#x20;

<AccordionGroup>
  <Accordion title="What is a State? " defaultOpen={false}>
    States represent the different orientations and positions for an object (e.g. door open and door closed) and the animation between them (e.g. show a door opening and closing)&#x20;
  </Accordion>

  <Accordion title="What is the State Machine?" defaultOpen={false}>
    The State Machine is a visual representation of the states and behaviors of each object based on events and trigger objects. Simply said, States are added to objects and arrows are drawn between them to define how the transition between each State happen.

    ![](/images/state-machine-overview.png)
  </Accordion>
</AccordionGroup>

## Adding and editing states&#x20;

<Steps>
  <Step title="Open the State Machine panel">
    Select the **State Machine** button in the bottom bar to open the panel.

    ![](/images/state-machine-button.png)
  </Step>

  <Step title="Select the desired object">
    Select the object that will be made stateful. Do this by clicking on the object in the Hierarchy or directly in the scene.&#x20;

    Observe that every object always contains two State nodes:

    <Tabs>
      <Tab title="Base State">
        The starting point when events should occur in a specific order.&#x20;

        For example, if a sphere should grow every time you click on it.&#x20;
      </Tab>

      <Tab title="Any State">
        When an interaction should always produce the same result, independent of any interactions that came before.&#x20;

        For example, if the same sphere should disappear every time `X` is pressed, regardless of its size.
      </Tab>
    </Tabs>

    ![](/images/base-and-any-state.png)
  </Step>

  <Step title="Add a new State to the object">
    Press the **+ New State** button in the State Machine panel to add a new State to the selected object.

    ![](/images/add-new-state.png)
  </Step>

  <Step title="Editing States">
    Confirm that the State you wish to change is visible and selected in the State Machine panel, then make changes to the object. The all changes save to the selected State automatically.

    <Info>
      Changes to Geometry made in Edit mode will propagate to all States, not just the State it was made in.
    </Info>

    <Info>
      Changes made to the Base State will apply to all States, unless they've already been overridden.&#x20;

      For example, if an object is changed from white to red in Base state, it will be red in State 1, unless it's specifically changed to be another color in State 1.
    </Info>
  </Step>
</Steps>

## Adding transitions between States&#x20;

Activate and drag arrows between States to create transitions between them.

1. Hover over the State the object should start at / transition from

2. Wait until a dot appears near the State

3. Select the dot and drag towards the State the object will transition to

4. Release when hovering over the State the object will transition to

5. Use the popover to define which event and object will trigger the transition. For example, if the transition should happen when you click on an object (ex. Box), select the event **On pointer down** and the trigger object **Box**.

## Renaming States

Go to the State Machine panel, double-click on the State's name, and type the new name.

## Multi-select for State Machine

It's possible to add or edit states and interactions across multiple objects at the same time. To do so, select multiple objects and follow the process to add or edit states outlined above.